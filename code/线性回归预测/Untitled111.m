close all
clear
clc
x=[-0.312024,-0.677773,0.791515,0.705897,-0.584972,-0.406635,0.846546,0.400101,0.238969,-0.597762, ...
    0.967832,-0.961879,0.279856,0.715894,0.488341,-0.990003,0.0733121,0.416632,0.226766,-0.983469, ...
    0.987797,0.614293,-0.980035,0.576172,-0.25989,0.860278,0.251769,0.85028,-0.821543,-0.566352, ...
    -0.048309,-0.582883,-0.0361064,-0.197176,-0.0560719,0.226652,-0.796182,0.366375,-0.0479512, ...
    0.516094,-0.226408,0.0824461,0.821901,-0.334671,-0.141993,0.862505,0.914079,-0.364148,0.710261, ...
    0.269478,-0.241788,0.753383,0.98462,-0.329063,-0.83728,-0.994392,0.304713,-0.856896,0.390634,0.507251];
y=[0.99162,0.727093,0.06952,-0.0744941,1.05581,1.13759,0.099119,-0.713766,-0.575021,1.16139, ...
    -0.059331,0.227255,-0.585793,-0.0424028,-0.521347,0.270714,0.139573,-0.710512,-0.510599, ...
    0.226396,-0.124431,-0.269088,0.231126,-0.427531,1.16535,0.0998522,-0.640153,0.119449, ...
    0.320387,0.991978,0.828259,0.962322,0.818843,0.897719,0.873406,-0.502425,0.483315, ...
    -0.783624,0.674892,-0.460595,1.18597,0.090305,0.0916763,1.06418,0.910293,0.105401, ...
    0.0526651,0.95929,-0.0556239,-0.584217,0.981218,0.0256638,-0.100251,1.0184,0.287103, ...
    0.313373,-0.760665,0.259687,-0.712635,-0.474306];
for i=1:10
    A=polyfit(x,y,i);
    Y=polyval(A,x);
   T(i)=sqrt(sum((y-Y).^2))/length(y);
end
a=min(T);
c=find(T==a);
disp(['最佳拟合度为：',num2str(c)]);
x0=2009:0.1:2018;
A1=polyfit(x,y,c);
Y1=polyval(A1,x0);
ps=poly2str(A1,'x');
t=input('请输入想要预测的年数：');
Yt=polyval(A1,t);
disp(['预测值为：',num2str(Yt)]);
hold on
scatter(x,y,'r*');
plot(x0,Y1,'b-');
hold off